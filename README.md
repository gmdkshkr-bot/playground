#üßæ AI-powered Receipt Recorder (Financial Psychology Ledger)

#üåü Project Overview

This project is an AI-driven personal ledger and spending management application built using Streamlit. It allows users to upload receipt images or manually enter expenses, utilizes Google's Gemini model for data analysis, and provides personalized spending advice based on a Financial Psychology perspective.

#‚ú® Key Features
The application is structured around four core tabs:
üìä Analysis & Tracking
  AI Receipt Analysis: Automatically extracts the store name, date, items, amounts,     and categories from uploaded receipt images, converting all amounts to KRW.
  Manual Input/CSV Import: Supports manual expense recording and accumulation of previous ledger history via CSV files.Spending Visualization: Provides spending trend over time, a spending location map, and category breakdown via bar and pie charts.üí¨ Financial Expert ChatFinancial Psychology Analysis: Calculates the Impulse Index and objective economic metrics based on accumulated spending data.Gemini-Powered Consultation: An AI Financial Psychologist uses the calculated metrics and detailed item data to offer personalized analysis of spending habits and actionable saving tips.üìÑ PDF ReportGenerates a comprehensive, printable PDF report summarizing the accumulated spending analysis and the core advice extracted from the AI consultation history.üõ†Ô∏è Technology Stack and RequirementsLanguage: Python 3.9+Frameworks/Libraries: streamlit, google-genai, pandas, requests, plotly.express, Pillow (PIL), fpdf2External APIs:Google Gemini API: Used for receipt data extraction and financial psychology consultation.ExchangeRate-API: Used to fetch real-time currency exchange rates.Kakao Local API: Used for geocoding (converting spending location addresses to latitude/longitude for map visualization).üöÄ Setup and Running the Application1. Environment ConfigurationInstall Dependencies:Bashpip install streamlit pandas numpy requests plotly fpdf2 google-genai Pillow
Set API Keys (Streamlit Secrets):You must create a .streamlit/secrets.toml file in the project root directory and set the following API keys:Ini, TOML# .streamlit/secrets.toml
GEMINI_API_KEY = "YOUR_GEMINI_API_KEY"
EXCHANGE_RATE_API_KEY = "YOUR_EXCHANGE_RATE_API_KEY"
KAKAO_REST_API_KEY = "YOUR_KAKAO_REST_API_KEY"
Font Setup (For PDF):For Korean output in the PDF report, you must create a fonts/ folder in the project root and place the two Nanum Gothic font files inside:fonts/NanumGothic.ttffonts/NanumGothicBold.ttf2. Running the ApplicationExecute the following command from the folder where the project code is saved:Bashstreamlit run your_app_file_name.py

‚öôÔ∏è Key Logic ExplanationFunction/VariableDescriptionRelated Technologyanalyze_receipt_with_geminiAnalyzes the receipt image to extract required fields into a JSON structure.Gemini (Multi-modal)geocode_addressConverts a street address string into latitude/longitude coordinates. Returns Seoul default coordinates on failure.Kakao Local APIget_exchange_ratesFetches base exchange rates to build the rate table for converting foreign currency to KRW.ExchangeRate-APIget_psychological_categoryMaps the AI-classified detailed sub-category to one of the four main Psychological Spending Categories.Internal Logic (SPENDING_NATURE)Impulse IndexA metric calculated by combining the ratio of impulse spending amount and the square root of impulse transaction frequency. This is core to the chat analysis.Python/Pandassystem_instruction (Chat)Provides the Gemini model with the role of a Financial Psychologist, key analysis metrics, and specific advice guidelines.Gemini Prompt EngineeringPDF ClassExtends fpdf2 to handle PDF page layout, tables, and ensures support for Korean fonts (NanumGothic).fpdf2ü§ù Contribution and FeedbackThis project aims to help individuals improve their spending habits. Ideas for feature additions, bug fixes, or general improvements are always welcome.
